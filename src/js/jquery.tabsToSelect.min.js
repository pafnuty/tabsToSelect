/**!
 * Плагин для реализации адаптивных табов, превращающихся в селект
 * @link https://github.com/pafnuty/tabsToSelect
 * @date 05.02.2016
 * @version 1.0.2
 * 
 */
!function(t,e,i){"use strict";function s(e,i){this.settings=t.extend({},r,i),this._defaults=r,this.init()}var n,a="tabsToSelect",c=0,o=t(e),r={selectCalss:"",selectWrapperCalss:"",selectAppendTo:"",onInit:function(){},beforeTabSwich:function(t){return!0},afterTabSwich:function(t){},onResized:function(){}};t(function(){n=t(".tts-tabs")}),t.extend(s.prototype,{init:function(){var e=this;t.each(n,function(){var i=t(this),s=t('<select class="tts-tabs-select '+e.settings.selectCalss+'" />'),n=i.find(".tts-tabs-switcher"),c=[];if(t.each(n,function(e,i){var s=t(i),n=s.hasClass("active")?"selected":"",a='<option value="'+e+'" '+n+">"+s.text()+"</option>";c.push(a)}),s.html(c.join("")).on("change."+a,function(e){if(!e.flag){var i=1*t(this).val();t(this).trigger({type:"tabSwitch."+a,tab:i})}}),e.settings.selectAppendTo){var o=i.find(e.settings.selectAppendTo);o.length?s.appendTo(o):i.prepend(s)}else i.prepend(s);i.on("click."+a,".tts-tabs-switcher:not(.active)",function(){var e=t(this).index();t(this).trigger({type:"tabSwitch."+a,tab:e})}).on("tabSwitch."+a,function(c){var o=e.settings.beforeTabSwich.call(r,c);if(o){var r=t(n[c.tab]),l=r.closest(".tts-tabs").find(".tts-tabs-item"),f=l.eq(r.index());s.val(c.tab).trigger({type:"change",flag:!0}),r.addClass("active").siblings().removeClass("active"),l.removeClass("active"),f.addClass("active"),r.trigger({type:"tabClick."+a,tab:f})}e.settings.afterTabSwich.call(i,c)}),s.wrap('<div class="tts-tabs-select-wrapper '+e.settings.selectWrapperCalss+'"></div>')}),o.on("resize."+a+" orientationchange."+a,function(t){e.winResize(t)}),e.settings.onInit.call(n)},winResize:function(t){if(t&&("resize"===t.type||"orientationchange"===t.type)){var e=o.width();if(e===c)return;this.settings.onResized(),c=e}}}),"undefined"==typeof t[a]&&(t[a]=function(t){return new s(this,t)})}($,window,document);